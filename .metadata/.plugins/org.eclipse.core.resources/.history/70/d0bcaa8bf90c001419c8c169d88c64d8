/*
 * io.c
 *
 *  Created on: Jul 16, 2014
 *      Author: zacaj
 */


#include <stddef.h>
#include "stm32f30x.h"
#include "stm32f30x_gpio.h"
#include "stm32f30x_conf.h"
#include "stm32f3_discovery.h"
#include <stdio.h>
#include "io.h"

void initInput(IOPin pin, GPIOPuPd_TypeDef def)
{
	GPIO_InitTypeDef info;
	info.GPIO_Mode = GPIO_Mode_IN;
	info.GPIO_OType = GPIO_OType_PP;
	info.GPIO_Pin = pin.pin;
	info.GPIO_PuPd = def;

	GPIO_Init(pin.bank, &init);
}

void initOutput(IOPin pin)
{
	GPIO_InitTypeDef info;
	info.GPIO_Mode = GPIO_Mode_OUT;
	info.GPIO_OType = GPIO_OType_PP;
	info.GPIO_Pin = pin.pin;
	info.GPIO_PuPd = GPIO_PuPd_NOPULL;
	info.GPIO_Speed = GPIO_Speed_Level_3;
	GPIO_Init(pin.bank, &init);
}

void setOut(IOPin pin, uint32_t value)
{
	GPIO_WriteBit(pin.bank, pin.pin, value);
}
